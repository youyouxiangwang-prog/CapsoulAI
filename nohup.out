启动前端开发服务器...
Using env: ../.env
VITE_API_PORT from shell: 8091

> capsoul-app@0.0.0 dev
> vite --port 5175 --no-open


  VITE v6.3.5  ready in 147 ms

  ➜  Local:   http://localhost:5175/
  ➜  Network: http://172.31.22.231:5175/
  ➜  Network: http://172.17.0.1:5175/
Hangup
make: *** [Makefile:179: frontend-dev] Error 129
启动前端开发服务器...
Using env: ../.env
VITE_API_PORT from shell: 8091

> capsoul-app@0.0.0 dev
> vite --port 5175 --no-open


  VITE v6.3.5  ready in 164 ms

  ➜  Local:   http://localhost:5175/
  ➜  Network: http://172.31.22.231:5175/
  ➜  Network: http://172.17.0.1:5175/
启动后端开发服务器 (uvicorn --reload)...
检查虚拟环境...
激活虚拟环境并安装依赖...
Requirement already satisfied: pip in ./.venv/lib/python3.10/site-packages (25.2)
Requirement already satisfied: fastapi==0.104.1 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 2)) (0.104.1)
Requirement already satisfied: uvicorn==0.24.0 in ./.venv/lib/python3.10/site-packages (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3)) (0.24.0)
Requirement already satisfied: pydantic==2.5.0 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 4)) (2.5.0)
Requirement already satisfied: pydantic-settings==2.1.0 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 5)) (2.1.0)
Requirement already satisfied: python-multipart==0.0.6 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 6)) (0.0.6)
Requirement already satisfied: sqlalchemy==2.0.23 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 9)) (2.0.23)
Requirement already satisfied: alembic==1.13.1 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 10)) (1.13.1)
Requirement already satisfied: psycopg2-binary==2.9.9 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 11)) (2.9.9)
Requirement already satisfied: python-jose==3.3.0 in ./.venv/lib/python3.10/site-packages (from python-jose[cryptography]==3.3.0->-r requirements.txt (line 14)) (3.3.0)
Requirement already satisfied: passlib==1.7.4 in ./.venv/lib/python3.10/site-packages (from passlib[bcrypt]==1.7.4->-r requirements.txt (line 15)) (1.7.4)
Requirement already satisfied: celery==5.3.4 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 19)) (5.3.4)
Requirement already satisfied: redis==5.0.1 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 20)) (5.0.1)
Requirement already satisfied: openai==1.3.0 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 23)) (1.3.0)
Requirement already satisfied: numpy==2.2.6 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 24)) (2.2.6)
Requirement already satisfied: pydub==0.25.1 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 25)) (0.25.1)
Requirement already satisfied: torch==2.7.1 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 26)) (2.7.1)
Requirement already satisfied: torchaudio==2.7.1 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 27)) (2.7.1)
Requirement already satisfied: httpx==0.25.2 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 30)) (0.25.2)
Requirement already satisfied: requests==2.31.0 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 31)) (2.31.0)
Requirement already satisfied: python-dotenv==1.0.0 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 34)) (1.0.0)
Requirement already satisfied: email-validator==2.1.0 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 35)) (2.1.0)
Requirement already satisfied: aiofiles==24.1.0 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 36)) (24.1.0)
Requirement already satisfied: tiktoken==0.6.0 in ./.venv/lib/python3.10/site-packages (from -r requirements.txt (line 37)) (0.6.0)
Requirement already satisfied: anyio<4.0.0,>=3.7.1 in ./.venv/lib/python3.10/site-packages (from fastapi==0.104.1->-r requirements.txt (line 2)) (3.7.1)
Requirement already satisfied: starlette<0.28.0,>=0.27.0 in ./.venv/lib/python3.10/site-packages (from fastapi==0.104.1->-r requirements.txt (line 2)) (0.27.0)
Requirement already satisfied: typing-extensions>=4.8.0 in ./.venv/lib/python3.10/site-packages (from fastapi==0.104.1->-r requirements.txt (line 2)) (4.15.0)
Requirement already satisfied: annotated-types>=0.4.0 in ./.venv/lib/python3.10/site-packages (from pydantic==2.5.0->-r requirements.txt (line 4)) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in ./.venv/lib/python3.10/site-packages (from pydantic==2.5.0->-r requirements.txt (line 4)) (2.14.1)
Requirement already satisfied: click>=7.0 in ./.venv/lib/python3.10/site-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0->-r requirements.txt (line 3)) (8.2.1)
Requirement already satisfied: h11>=0.8 in ./.venv/lib/python3.10/site-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0->-r requirements.txt (line 3)) (0.16.0)
Requirement already satisfied: greenlet!=0.4.17 in ./.venv/lib/python3.10/site-packages (from sqlalchemy==2.0.23->-r requirements.txt (line 9)) (3.2.4)
Requirement already satisfied: Mako in ./.venv/lib/python3.10/site-packages (from alembic==1.13.1->-r requirements.txt (line 10)) (1.3.10)
Requirement already satisfied: ecdsa!=0.15 in ./.venv/lib/python3.10/site-packages (from python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14)) (0.19.1)
Requirement already satisfied: rsa in ./.venv/lib/python3.10/site-packages (from python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14)) (4.9.1)
Requirement already satisfied: pyasn1 in ./.venv/lib/python3.10/site-packages (from python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14)) (0.6.1)
Requirement already satisfied: billiard<5.0,>=4.1.0 in ./.venv/lib/python3.10/site-packages (from celery==5.3.4->-r requirements.txt (line 19)) (4.2.1)
Requirement already satisfied: kombu<6.0,>=5.3.2 in ./.venv/lib/python3.10/site-packages (from celery==5.3.4->-r requirements.txt (line 19)) (5.5.4)
Requirement already satisfied: vine<6.0,>=5.0.0 in ./.venv/lib/python3.10/site-packages (from celery==5.3.4->-r requirements.txt (line 19)) (5.1.0)
Requirement already satisfied: click-didyoumean>=0.3.0 in ./.venv/lib/python3.10/site-packages (from celery==5.3.4->-r requirements.txt (line 19)) (0.3.1)
Requirement already satisfied: click-repl>=0.2.0 in ./.venv/lib/python3.10/site-packages (from celery==5.3.4->-r requirements.txt (line 19)) (0.3.0)
Requirement already satisfied: click-plugins>=1.1.1 in ./.venv/lib/python3.10/site-packages (from celery==5.3.4->-r requirements.txt (line 19)) (1.1.1.2)
Requirement already satisfied: tzdata>=2022.7 in ./.venv/lib/python3.10/site-packages (from celery==5.3.4->-r requirements.txt (line 19)) (2025.2)
Requirement already satisfied: python-dateutil>=2.8.2 in ./.venv/lib/python3.10/site-packages (from celery==5.3.4->-r requirements.txt (line 19)) (2.9.0.post0)
Requirement already satisfied: async-timeout>=4.0.2 in ./.venv/lib/python3.10/site-packages (from redis==5.0.1->-r requirements.txt (line 20)) (5.0.1)
Requirement already satisfied: distro<2,>=1.7.0 in ./.venv/lib/python3.10/site-packages (from openai==1.3.0->-r requirements.txt (line 23)) (1.9.0)
Requirement already satisfied: tqdm>4 in ./.venv/lib/python3.10/site-packages (from openai==1.3.0->-r requirements.txt (line 23)) (4.67.1)
Requirement already satisfied: certifi in ./.venv/lib/python3.10/site-packages (from httpx==0.25.2->-r requirements.txt (line 30)) (2025.8.3)
Requirement already satisfied: httpcore==1.* in ./.venv/lib/python3.10/site-packages (from httpx==0.25.2->-r requirements.txt (line 30)) (1.0.9)
Requirement already satisfied: idna in ./.venv/lib/python3.10/site-packages (from httpx==0.25.2->-r requirements.txt (line 30)) (3.10)
Requirement already satisfied: sniffio in ./.venv/lib/python3.10/site-packages (from httpx==0.25.2->-r requirements.txt (line 30)) (1.3.1)
Requirement already satisfied: filelock in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (3.19.1)
Requirement already satisfied: sympy>=1.13.3 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (1.14.0)
Requirement already satisfied: networkx in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (3.4.2)
Requirement already satisfied: jinja2 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (3.1.6)
Requirement already satisfied: fsspec in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (2025.9.0)
Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.6.77 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (12.6.77)
Requirement already satisfied: nvidia-cuda-runtime-cu12==12.6.77 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (12.6.77)
Requirement already satisfied: nvidia-cuda-cupti-cu12==12.6.80 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (12.6.80)
Requirement already satisfied: nvidia-cudnn-cu12==9.5.1.17 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (9.5.1.17)
Requirement already satisfied: nvidia-cublas-cu12==12.6.4.1 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (12.6.4.1)
Requirement already satisfied: nvidia-cufft-cu12==11.3.0.4 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (11.3.0.4)
Requirement already satisfied: nvidia-curand-cu12==10.3.7.77 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (10.3.7.77)
Requirement already satisfied: nvidia-cusolver-cu12==11.7.1.2 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (11.7.1.2)
Requirement already satisfied: nvidia-cusparse-cu12==12.5.4.2 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (12.5.4.2)
Requirement already satisfied: nvidia-cusparselt-cu12==0.6.3 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (0.6.3)
Requirement already satisfied: nvidia-nccl-cu12==2.26.2 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (2.26.2)
Requirement already satisfied: nvidia-nvtx-cu12==12.6.77 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (12.6.77)
Requirement already satisfied: nvidia-nvjitlink-cu12==12.6.85 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (12.6.85)
Requirement already satisfied: nvidia-cufile-cu12==1.11.1.6 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (1.11.1.6)
Requirement already satisfied: triton==3.3.1 in ./.venv/lib/python3.10/site-packages (from torch==2.7.1->-r requirements.txt (line 26)) (3.3.1)
Requirement already satisfied: charset-normalizer<4,>=2 in ./.venv/lib/python3.10/site-packages (from requests==2.31.0->-r requirements.txt (line 31)) (3.4.3)
Requirement already satisfied: urllib3<3,>=1.21.1 in ./.venv/lib/python3.10/site-packages (from requests==2.31.0->-r requirements.txt (line 31)) (2.5.0)
Requirement already satisfied: dnspython>=2.0.0 in ./.venv/lib/python3.10/site-packages (from email-validator==2.1.0->-r requirements.txt (line 35)) (2.7.0)
Requirement already satisfied: regex>=2022.1.18 in ./.venv/lib/python3.10/site-packages (from tiktoken==0.6.0->-r requirements.txt (line 37)) (2025.9.1)
Requirement already satisfied: bcrypt>=3.1.0 in ./.venv/lib/python3.10/site-packages (from passlib[bcrypt]==1.7.4->-r requirements.txt (line 15)) (4.3.0)
Requirement already satisfied: cryptography>=3.4.0 in ./.venv/lib/python3.10/site-packages (from python-jose[cryptography]==3.3.0->-r requirements.txt (line 14)) (45.0.7)
Requirement already satisfied: setuptools>=40.8.0 in ./.venv/lib/python3.10/site-packages (from triton==3.3.1->torch==2.7.1->-r requirements.txt (line 26)) (59.6.0)
Requirement already satisfied: httptools>=0.5.0 in ./.venv/lib/python3.10/site-packages (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3)) (0.6.4)
Requirement already satisfied: pyyaml>=5.1 in ./.venv/lib/python3.10/site-packages (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3)) (6.0.2)
Requirement already satisfied: uvloop!=0.15.0,!=0.15.1,>=0.14.0 in ./.venv/lib/python3.10/site-packages (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3)) (0.21.0)
Requirement already satisfied: watchfiles>=0.13 in ./.venv/lib/python3.10/site-packages (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3)) (1.1.0)
Requirement already satisfied: websockets>=10.4 in ./.venv/lib/python3.10/site-packages (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3)) (15.0.1)
Requirement already satisfied: exceptiongroup in ./.venv/lib/python3.10/site-packages (from anyio<4.0.0,>=3.7.1->fastapi==0.104.1->-r requirements.txt (line 2)) (1.3.0)
Requirement already satisfied: amqp<6.0.0,>=5.1.1 in ./.venv/lib/python3.10/site-packages (from kombu<6.0,>=5.3.2->celery==5.3.4->-r requirements.txt (line 19)) (5.3.1)
Requirement already satisfied: packaging in ./.venv/lib/python3.10/site-packages (from kombu<6.0,>=5.3.2->celery==5.3.4->-r requirements.txt (line 19)) (25.0)
Requirement already satisfied: prompt-toolkit>=3.0.36 in ./.venv/lib/python3.10/site-packages (from click-repl>=0.2.0->celery==5.3.4->-r requirements.txt (line 19)) (3.0.52)
Requirement already satisfied: cffi>=1.14 in ./.venv/lib/python3.10/site-packages (from cryptography>=3.4.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14)) (1.17.1)
Requirement already satisfied: pycparser in ./.venv/lib/python3.10/site-packages (from cffi>=1.14->cryptography>=3.4.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14)) (2.22)
Requirement already satisfied: six>=1.9.0 in ./.venv/lib/python3.10/site-packages (from ecdsa!=0.15->python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14)) (1.17.0)
Requirement already satisfied: wcwidth in ./.venv/lib/python3.10/site-packages (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.3.4->-r requirements.txt (line 19)) (0.2.13)
Requirement already satisfied: mpmath<1.4,>=1.1.0 in ./.venv/lib/python3.10/site-packages (from sympy>=1.13.3->torch==2.7.1->-r requirements.txt (line 26)) (1.3.0)
Requirement already satisfied: MarkupSafe>=2.0 in ./.venv/lib/python3.10/site-packages (from jinja2->torch==2.7.1->-r requirements.txt (line 26)) (3.0.2)
启动开发服务器...
if [ -f .env ]; then \
	echo "Using env: .env"; \
	set -a; . ./.env; set +a; \
elif [ -f .env.example ]; then \
	echo "Using env: .env.example"; \
	set -a; . ./.env.example; set +a; \
elif [ -f .env.development ]; then \
	echo "Using env: .env.development"; \
	set -a; . ./.env.development; set +a; \
fi; \
echo "VITE_API_PORT=$VITE_API_PORT"; \
. .venv/bin/activate && uvicorn app.main:app --host 0.0.0.0 --port "${VITE_API_PORT:-8123}" --reload
Using env: .env
VITE_API_PORT=8091
INFO:     Will watch for changes in these directories: ['/home/ubuntu/CapsoulAI']
INFO:     Uvicorn running on http://0.0.0.0:8091 (Press CTRL+C to quit)
INFO:     Started reloader process [40003] using WatchFiles
/home/ubuntu/CapsoulAI/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:318: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
/home/ubuntu/CapsoulAI/.venv/lib/python3.10/site-packages/pydub/utils.py:170: RuntimeWarning: Couldn't find ffmpeg or avconv - defaulting to ffmpeg, but may not work
  warn("Couldn't find ffmpeg or avconv - defaulting to ffmpeg, but may not work", RuntimeWarning)
Using cache found in /home/ubuntu/.cache/torch/hub/snakers4_silero-vad_master
/home/ubuntu/CapsoulAI/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:318: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
/home/ubuntu/CapsoulAI/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:318: UserWarning: Valid config keys have changed in V2:
* 'fields' has been removed
  warnings.warn(message, UserWarning)
INFO:     Started server process [40005]
INFO:     Waiting for application startup.
INFO:     Application startup complete.


Source path: /home/ubuntu/CapsoulAI/frontend/index.css
Setting up new context...
Finding changed files: 6.394ms


Source path: /home/ubuntu/CapsoulAI/frontend/App.css
JIT TOTAL: 136.651ms


(node:39949) Warning: Label 'JIT TOTAL' already exists for console.time()
(Use `node --trace-warnings ...` to show where the warning was created)
Reading changed files: 515.614ms
Sorting candidates: 6.143ms
Generate rules: 399.026ms
Build stylesheet: 8.383ms
Potential classes:  7540
Active contexts:  1


(node:39949) Warning: No such label 'JIT TOTAL' for console.timeEnd()
postgresql://postgres:1234.com@localhost:5434/postgres
[CONFIG] CELERY_BROKER_URL: redis://localhost:6379/3
[CONFIG] CELERY_RESULT_BACKEND: redis://localhost:6379/3
Database session created <sqlalchemy.orm.session.Session object at 0x7a59206cbd00>
INFO:     127.0.0.1:35926 - "GET /api/v1/capture/recordings HTTP/1.1" 200 OK
Database session created <sqlalchemy.orm.session.Session object at 0x7a59206cb640>
INFO:     127.0.0.1:35932 - "GET /api/v1/capture/recordings HTTP/1.1" 200 OK
